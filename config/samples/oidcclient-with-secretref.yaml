---
apiVersion: security.homelab.io/v1alpha1
kind: OIDCClient
metadata:
  name: vault
  namespace: vault
spec:
  clientId: vault
  clientName: HashiCorp Vault
  # Reference an existing secret
  secretRef:
    name: vault-oidc-client-secret
    namespace: vault
    key: client_secret
  redirectUris:
    - https://vault.example.com/ui/vault/auth/oidc/oidc/callback
    - https://vault.example.com/oidc/callback
  responseModes:
    - form_post
    - query
    - fragment
  scopes:
    - openid
    - profile
    - groups
    - email
  tokenEndpointAuthMethod: client_secret_basic
